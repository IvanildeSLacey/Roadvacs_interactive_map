<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Roadvacs, internal interactive customers map">
    <meta name="keywords" content="Roadvacs">
    <title>Customer List</title>

    <!-- Fontawesome -->
    <script src="https://kit.fontawesome.com/feb4a38862.js" crossorigin="anonymous"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">

    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        input {
            margin: 10px;
        }

        /* Sort controls */
        .sort-controls {
            font-size: 12px;
            margin-left: 5px;
            cursor: pointer;
            color: #888;
            transition: color 0.2s ease;
        }

        .sort-controls:hover {
            color: orange;
        }
    </style>
</head>
<body>
    <header>
        <section class="top-nav">
            <div>
                <a href="index.html"><img src="assets/images/roadlogo.png" id="logo" alt="Roadvacs Logo"></a>
            </div>
            <input id="menu-toggle" type="checkbox" />
            <label class='menu-button-container' for="menu-toggle">
                <div class='menu-button'></div>
            </label>
            <ul class="menu">
                <li><a href="index.html">MAP</a></li>
                <li><a href="customerlist.html" class="actual">CUSTOMER LIST</a></li>
                <li><a href="us.html">CONTACT</a></li>
            </ul>
        </section>
    </header>

    <main>
        <h1>Truck Records</h1>

        <!-- Filtering inputs -->
        <label for="customerFilter">Filter by Customer:</label>
        <input type="text" id="customerFilter" oninput="filterTable()" placeholder="Enter customer name">

        <label for="makeFilter">Filter by Make:</label>
        <input type="text" id="makeFilter" oninput="filterTable()" placeholder="Enter make">

        <label for="modelFilter">Filter by Model:</label>
        <input type="text" id="modelFilter" oninput="filterTable()" placeholder="Enter model">

        <label for="yearFilter">Filter by Year:</label>
        <input type="text" id="yearFilter" oninput="filterTable()" placeholder="Enter year">

        <label for="buildFilter">Filter by Build Number:</label>
        <input type="text" id="buildFilter" oninput="filterTable()" placeholder="Enter build number">

        <!-- Truck table -->
        <table>
            <thead>
                <tr>
                    <th>Customer
                        <span class="sort-controls" onclick="sortTable('customer', 'asc')">▲</span>
                        <span class="sort-controls" onclick="sortTable('customer', 'desc')">▼</span>
                    </th>
                    <th>Make
                        <span class="sort-controls" onclick="sortTable('make', 'asc')">▲</span>
                        <span class="sort-controls" onclick="sortTable('make', 'desc')">▼</span>
                    </th>
                    <th>Model</th>
                    <th>Registration Plate</th>
                    <th>Build Number
                        <span class="sort-controls" onclick="sortTable('buildNumber', 'asc')">▲</span>
                        <span class="sort-controls" onclick="sortTable('buildNumber', 'desc')">▼</span>
                    </th>
                    <th>Delivery Date
                        <span class="sort-controls" onclick="sortTable('deliveryDate', 'asc')">▲</span>
                        <span class="sort-controls" onclick="sortTable('deliveryDate', 'desc')">▼</span>
                    </th>
                </tr>
            </thead>
            <tbody id="truckTable">
                <!-- Data rows will be dynamically populated -->
            </tbody>
        </table>
    </main>

    <footer>
        <p>©2025 by Roadvacs Irl Ltd</p>
    </footer>

    <script>
        // Truck data for table
        const trucks = [
            { customer: "Meath Jetting Services", make: "Muller", model: "Canalmaster F150 E", regPlate: "04-MH-15490", buildNumber: "10401600", deliveryDate: "to be updated" },
            { customer: "to be updated", make: "VJ Engineering", model: "4200 Gallon Tanker", regPlate: "to be updated", buildNumber: "VJE0622-2", deliveryDate: "to be updated" },
            { customer: "Billy Bowie", make: "VJ Engineering", model: "4200 Gallon Tanker", regPlate: "to be updated", buildNumber: "VJE0606", deliveryDate: "to be updated" }
        ];

        const tableBody = document.getElementById("truckTable");

        // Render the table
        function renderTable() {
            tableBody.innerHTML = ""; // Clear table
            trucks.forEach(truck => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${truck.customer}</td>
                    <td>${truck.make}</td>
                    <td>${truck.model}</td>
                    <td>${truck.regPlate}</td>
                    <td>${truck.buildNumber}</td>
                    <td>${truck.deliveryDate}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Sort function for table
        function sortTable(column, order = "asc") {
            trucks.sort((a, b) => {
                if (column === "buildNumber") {
                    const numA = parseInt(a[column].replace(/\D/g, ""), 10) || 0;
                    const numB = parseInt(b[column].replace(/\D/g, ""), 10) || 0;
                    return order === "asc" ? numA - numB : numB - numA;
                }
                return order === "asc"
                    ? a[column].localeCompare(b[column])
                    : b[column].localeCompare(a[column]);
            });
            renderTable();
        }

        // Filter function for table
        function filterTable() {
            const customerFilter = document.getElementById("customerFilter").value.toLowerCase();
            const makeFilter = document.getElementById("makeFilter").value.toLowerCase();
            const modelFilter = document.getElementById("modelFilter").value.toLowerCase(); // Model filter added
            const yearFilter = document.getElementById("yearFilter").value.toLowerCase();
            const buildFilter = document.getElementById("buildFilter").value.toLowerCase();

            const rows = document.querySelectorAll("#truckTable tr");
            rows.forEach(row => {
                const cells = row.children;
                const customer = cells[0].textContent.toLowerCase();
                const make = cells[1].textContent.toLowerCase();
                const model = cells[2].textContent.toLowerCase(); // Access model field
                const build = cells[4].textContent.toLowerCase();

                const matchesCustomer = customer.includes(customerFilter) || customerFilter === "";
                const matchesMake = make.includes(makeFilter) || makeFilter === "";
                const matchesModel = model.includes(modelFilter) || modelFilter === ""; // Model match logic
                const matchesBuild = build.includes(buildFilter) || buildFilter === "";

                row.style.display = matchesCustomer && matchesMake && matchesModel && matchesBuild ? "" : "none";
            });
        }

        // Initial rendering
        renderTable();
    </script>
</body>
</html>
